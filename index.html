<!-- ATM Rabl√°s Jelent√©s -->
<section id="atm-report">
    <h2>üí£ ATM Rabl√°s Jelent√©s</h2>

    <div class="report-form">
        <form id="atm-form">

            <input type="number" 
                   name="dirtymoney" 
                   placeholder="Piszkosp√©nz mennyis√©g ($)" 
                   min="1" 
                   required>

            <input type="text" 
                   name="name" 
                   placeholder="Neved" 
                   required>

            <input type="text" 
                   name="time" 
                   placeholder="Id≈ëpont (pl: 2026.02.18 21:45)" 
                   required>

            <input type="url" 
                   name="imgur" 
                   placeholder="Imgur link (https://imgur.com/...)" 
                   pattern="https://(i\.)?imgur\.com/.*" 
                   required>

            <button type="submit">K√ºld√©s</button>

        </form>

        <p id="atm-message"></p>
    </div>
</section>

<style>
#atm-report {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #1a1a1a, #2b0000);
    color: white;
    padding: 40px 20px;
}

#atm-report h2 {
    margin-bottom: 30px;
}

.report-form {
    background: rgba(0,0,0,0.7);
    padding: 30px;
    border-radius: 12px;
    width: 100%;
    max-width: 400px;
    box-shadow: 0 0 25px rgba(255,0,0,0.3);
}

.report-form input {
    width: 100%;
    padding: 12px;
    margin-bottom: 15px;
    border: none;
    border-radius: 6px;
    outline: none;
}

.report-form button {
    width: 100%;
    padding: 12px;
    background: #ff1a1a;
    border: none;
    color: white;
    font-weight: bold;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.3s;
}

.report-form button:hover {
    background: #cc0000;
}

#atm-message {
    text-align: center;
    margin-top: 15px;
    font-weight: bold;
}

#atm-message.success {
    color: #00ff88;
}

#atm-message.error {
    color: #ff4444;
}
</style>

<script src="https://cdn.emailjs.com/dist/email.min.js"></script>
<script>
emailjs.init("RJ8KpMBsys6naM2Ii"); // Public Key

const form = document.getElementById("atm-form");
const message = document.getElementById("atm-message");

form.addEventListener("submit", function(e){
    e.preventDefault();

    const btn = this.querySelector("button");
    btn.disabled = true;
    btn.textContent = "K√ºld√©s...";

    emailjs.sendForm(
        "service_h01oyeo",
        "template_hfqpbia",
        this
    )
    .then(() => {
        showMessage("‚úÖ ATM jelent√©s sikeresen elk√ºldve!", "success");
        form.reset();
    })
    .catch(() => {
        showMessage("‚ùå Hiba t√∂rt√©nt, pr√≥b√°ld √∫jra!", "error");
    })
    .finally(() => {
        btn.disabled = false;
        btn.textContent = "K√ºld√©s";
    });
});

function showMessage(msg, type) {
    message.textContent = msg;
    message.className = type;
    setTimeout(() => {
        message.textContent = "";
        message.className = "";
    }, 5000);
}
</script>
